# 单值图

本文介绍单值图操作步骤及案例。

## 简介

单值图可以用于突出显示单个数值。单值图的类型包括：

-   矩形框：用于展示一般数值。
-   刻度盘：用于查看数值与设定阈值的接近程度。
-   同比环比图：用于查看同比和环比函数的SQL查询结果，分析语法请参考[同比和环比函数](/cn.zh-CN/查询与分析/SQL分析语法与功能/同比和环比函数.md)。

默认选择矩形框图显示。矩形框图作为最简单直接的数据表现形式，直观清晰地将某一个点上的数据展示出来，一般用于表示某一个时间点上的关键信息。针对比例类指标的显示，可选用刻度盘类型。

基本构成如下：

-   数值
-   单位（可选）
-   描述（可选）
-   图表类型

## 操作步骤

1.  登录[日志服务控制台](https://sls.console.aliyun.com)。

2.  在Project列表区域，单击目标Project。

3.  在**日志存储** \> **日志库**页签中，单击目标Logstore。

4.  输入查询分析语句，选择时间范围后单击**查询/分析**。

5.  在统计图表页签中，单击![单值图-001](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6944006951/p93119.png)图标。

6.  在**属性配置**页签中，配置图表属性。

    **说明：** 日志服务单值图会自动根据数值大小进行归一化操作，例如`230000`会被处理为`230K`，如果需要自己定义数值格式，请通过[数学计算函数](/cn.zh-CN/查询与分析/SQL分析语法与功能/数学计算函数.md)在实时分析阶段进行处理。

    -   矩形框配置说明：

        |参数|说明|
        |:-|:-|
        |**图表类型**|选择**矩形框**，将查询结果以矩形框形式展示。|
        |**数值列**|默认选择该列的第一行数据进行展示。|
        |**单位**|数据的单位。|
        |**单位字号**|单位的字号，可以拖动调整。取值范围为10px~100px。|
        |**数值描述**|数值的描述。|
        |**数值描述字号**|数值描述的字号，可以拖动调整。取值范围为10px~100px。|
        |**格式化**|将数据按照指定格式进行显示。|
        |**字号**|数值的字号，可以拖动调整。取值范围为10px-100px。|
        |**字体颜色**|数字和文字的颜色，可以选择默认颜色或自定义设置。|
        |**背景颜色**|背景的颜色，可以选择默认颜色或自定义设置。|

    -   刻度盘配置说明：

        |参数|说明|
        |:-|:-|
        |**图表类型**|选择**刻度盘**，将查询结果以刻度盘形式展示。|
        |**实际值**|默认选择该列的第一行数据进行展示。|
        |**单位**|刻度盘数值的单位。|
        |**字号**|数值和单位的字号，取值范围为10px~100px。|
        |**对比值**|选择待对比的字段，在图表中显示该字段对应的值。|
        |**对比值字号**|对比值的字号。|
        |**对比值单位**|对比值的单位。|
        |**数值描述**|数值的描述。|
        |**数值描述字号**|数值描述的字号，可以拖动调整。取值范围为10px~100px。|
        |**刻度盘最大值**|刻度盘显示刻度的最大值，默认为100。|
        |**最大值所在列**|打开**使用查询结果**时，**刻度盘最大值**变成**最大值所在列**，取值可以从查询结果中选取。|
        |**使用查询结果**|使用查询结果的情况下，总值可以从查询结果中选取。|
        |**格式化**|将数据按照指定格式进行显示。|
        |**颜色区域个数**|即将刻度盘分为几个数值区域，每个区域以不同颜色表示。 颜色区域个数取值范围为2、3、4、5，默认为3个颜色区域。 |
        |**区域最大值**|刻度盘数值区域的最大值，最后一个区域最大值默认为刻度盘最大值，不需要指定。打开**使用查询结果**时，**区域最大值**变成**区域占比率**。**说明：** 刻度盘默认3个颜色区域，且区域范围默认均分，如果您调整了**颜色区域个数**，不会改变默认区域的范围，您需要根据需求重新指定每个区域的最大值。 |
        |**字体颜色**|数值在仪表盘中显示的颜色。|
        |**区域**|默认3个区域，对应的颜色分别为蓝、黄和红。 如果您将**颜色区域个数**更改为3个以上，新增的区域默认为蓝色，您可以重新调整各个区域的颜色。 |

    -   同比环比图配置说明：

        |参数|说明|
        |:-|:-|
        |**图表类型**|选择**同比环比图**，将查询结果以同比环比图形式展示。|
        |**显示值**|显示在同比环比图中心的数值，一般设置为同比环比函数中当前时段的统计结果。|
        |**对比值**|用于和阈值比较的数值，一般设置为同比环比函数中当前时段和之前时段的对比结果。|
        |**字号**|显示值的字号，取值范围为10px~100px。支持配置**字号自适应**。|
        |**单位**|显示值的单位。|
        |**单位字号**|显示值单位的字号，取值范围为10px~100px。|
        |**比较值单位**|比较值的单位。|
        |**比较值字号**|比较值及其单位的字号，取值范围为10px~100px。|
        |**数值描述**|对显示的数值及增长趋势的描述，显示在数值下方。|
        |**数值描述字号**|数值描述的字号，取值范围为10px~100px。|
        |**趋势比较阈值**|用于衡量对比值变化趋势的数值。 例如对比值为-1：

        -   设置**趋势比较阈值**为0，页面会显示下降箭头，表示数值变化呈下降趋势。
        -   设置**趋势比较阈值**为-1，系统认为数据无变化，页面不显示变化趋势。
        -   设置**趋势比较阈值**为-2，页面显示上升箭头，表示数值变化呈上升趋势。 |
        |**显示值格式化**|将数据按照指定格式进行显示。|
        |**对比值格式化**|将对比值格式化显示。|
        |**字体颜色**|显示值和数值描述的字体颜色。|
        |**增长字体颜色**|对比值大于阈值时，对比值显示的字体颜色。|
        |**增长背景颜色**|对比值大于阈值时，显示的背景颜色。|
        |**下降字体颜色**|对比值小于阈值时，对比值显示的字体颜色。|
        |**下降背景颜色**|对比值小于阈值时，显示的背景颜色。|
        |**相等背景颜色**|对比值等于阈值时，显示的背景颜色。|


## 示例

执行以下查询分析语句查看访问量，并以图表方式展示分析结果。

-   矩形框

    ```
    * | select count(1) as pv
    ```

    ![矩形框](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9790723061/p5729.png)

-   刻度盘

    ```
    * | select count(1) as pv
    ```

    ![同比环比图](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9790723061/p9590.png)

-   同比环比图

    查看今天与昨天访问量的对比：

    ```
    * | select diff[1],diff[2], diff[1]-diff[2] from (select compare( pv , 86400) as diff from (select count(1) as pv from log))
    ```

    ![刻度盘](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9790723061/p7726.png)


