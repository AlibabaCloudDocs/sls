# 饼图

本文介绍饼图操作步骤及案例。

## 简介

饼图用于表示不同分类的占比情况，通过弧度大小来对比各种分类。饼图通过将一个圆饼按照分类的占比划分成多个区块，整个圆饼代表数据的总量，每个区块（圆弧）表示该分类占总体的比例大小，所有区块（圆弧）的加和等于100%。

基本构成如下：

-   扇形
-   文本百分比
-   图例

## 类型

日志服务提供默认饼图、环图及南丁格尔玫瑰图三种类型的饼图。

-   环图

    环图本质上是将饼图中心挖空，相比于饼图来说有如下优点：

    -   在原有构成的基础上增加了总数显示，展示了更多的信息。
    -   两个饼图直接进行比较是非常不直观的，两个环图间可以通过环状条长度进行简单的对比。
-   南丁格尔玫瑰图

    南丁格尔玫瑰图本质上并不是环图，而是在极坐标系下画出来的柱状图，每一个分类数据被圆弧平分，使用圆弧的半径长短表示数据的大小，相比于饼图来说有如下优点：

    -   饼图适用于不超过10条的分类数据，南丁格尔玫瑰图则适用于分类较多的场景（10-30条数据）。
    -   由于半径和面积是成平方的关系，南丁格尔玫瑰图放大了各个分类数据之间值的差异，尤其适合对比大小相近的数值。
    -   由于圆形有周期的特性，南丁格尔玫瑰图也适用于表示一个周期的时间概念，比如星期、月份。

## 操作步骤

1.  登录[日志服务控制台](https://sls.console.aliyun.com)。

2.  在Project列表区域，单击目标Project。

3.  在**日志存储** \> **日志库**页签中，单击目标Logstore。

4.  输入查询分析语句，选择时间范围后单击**查询/分析**。

5.  在统计图表页签中，单击![饼图-001](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/7550906951/p93117.png)图标。

6.  在**属性配置**页签中，配置图表属性。

    **说明：**

    -   饼图和环图适用于10条以内的数据，建议使用LIMIT进行控制，以免不同色的分面太多导致分析不直观。
    -   超过10条数据建议采用南丁格尔玫瑰图或者柱状图。
    |参数|说明|
    |:-|:-|
    |图表类型|包括饼图、环图和南丁格尔玫瑰图。|
    |分类|分类数据。|
    |数值列|分类数据对应的数值。|
    |图例位置|开启**是否显示图例**后，可配置此参数，调整图例在图表中的位置。|
    |格式化|将数据按照指定格式进行显示。|
    |刻度文本格式|可配置为**百分比**或**分类：百分比**。|
    |图例宽度|设置图例宽度。|
    |边距|坐标轴距离图表边界距离，包括上、下、左、右边距。|


## 饼图示例

分析访问`requestURI`的占比情况。

```
* | select request_uri as uri , count(1) as c group by uri limit 10
```

![饼图](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/0948423061/p5719.png)

## 环图示例

分析访问`requestURI`的占比情况。

```
* | select request_uri as uri , count(1) as c group by uri limit 10
```

![环图](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/0948423061/p5721.png)

## 南丁格尔玫瑰图示例

分析访问`requestURI`的占比情况。

```
* | select request_uri as uri , count(1) as c group by uri limit 10
```

![南丁格尔玫瑰图示例](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/1948423061/p5722.png)

