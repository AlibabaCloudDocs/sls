# 通知方式

日志服务支持设置一种或多种告警通知方式，包括短信、语音、邮件、钉钉、WebHook-钉钉机器人、WebHook-自定义和通知中心。本文介绍各种通知方式的配置步骤。

## 通知中心（推荐）

设置告警通知方式为通知中心，则触发告警后，日志服务会通过通知中心向指定人员发送告警通知。

1.  在阿里云消息中心，配置消息接收人。

    1.  登录[阿里云消息中心](https://notifications.console.aliyun.com/?spm=5176.202052012811.aliyun_topbar.162.zRRPhO#/subscribeMsg)。

    2.  选择**消息接收管理** \> **基本接收管理**，单击**日志服务（LOG）告警**右侧的**修改**。

        ![接收管理](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5524008951/p7260.png)

    3.  在**修改消息接收人**窗口选择消息接收人，单击**保存**。

        如您需要新增一位消息接收人，可以直接单击**新增消息接收人**，并配置该人员用于接收告警信息的邮箱、手机号码和职位信息。仅账号负责人可以为消息接收人配置手机号码。

        **说明：**

        -   系统将自动发送验证信息到所填手机号码和邮箱，通过验证后方可接收消息。
        -   最少需要设置1位消息接收人。
        -   通知方式默认为邮件+短信，且不可更改。
2.  在日志服务控制台上配置通知方式。

    1.  在[设置告警](/cn.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**通知中心**，并单击**添加**。

    2.  配置发送内容。

        发送内容的长度为1~500个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。

    3.  单击**提交**。

        此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## 短信

设置告警通知方式为短信，则触发告警后，日志服务会向指定的手机号码发送短信通知。

**说明：** 使用短信告警通知时，发送通知的号码是随机的，无法提供固定号码。

1.  在[设置告警](/cn.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**短信**，并单击**添加**。

2.  配置如下参数。

    |参数|说明|
    |--|--|
    |**手机号码**|填写接收告警通知的手机号码，多个手机号码之间通过逗号（,）分隔。|
    |**发送内容**|填写告警短信内容，长度为1~100个字符。支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|

3.  单击**提交**。

    此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## 语音

设置告警通知方式为语音，则触发告警后，日志服务会向指定的手机号码发送电话通知。语音内容中包括Project名称、告警名称和已配置的发送内容。

**说明：**

-   如果某次告警电话未接通，将以短信方式发送一次通知。
-   日志服务使用如下号码进行语音告警通知，您可将如下号码添加到手机白名单中，以免告警电话被拦截。

    02388560936、02031241964、02031341953、02386133954、02386133948、051068094476、051068094459、051068094479、051068094489、051068094436、051068094429、051068094426、057126886446、057126886464、057126886644、057126886767、057126886776


1.  在[设置告警](/cn.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**语音**，并单击**添加**。

2.  配置如下参数。

    |参数|说明|
    |--|--|
    |**手机号码**|填写接收告警通知的手机号码，多个手机号码之间通过逗号（,）分隔。|
    |**发送内容**|填写告警语音内容，长度为1~100个字符。支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。 **说明：** 建议使用中文。 |

3.  单击**提交**。

    此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## 邮件

设置告警通知方式为邮件，则触发告警后，日志服务会向指定的邮箱地址发送邮件通知。

**说明：** 日志服务使用monitor@monitor.aliyun.com邮件地址发送邮件告警通知，您可将该邮件地址添加到邮箱白名单中，以免告警邮件被拦截。

1.  在[设置告警](/cn.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**邮件**，并单击**添加**。

2.  配置如下参数。

    |参数|说明|
    |--|--|
    |**收件人**|填写接收告警通知的邮箱地址，多个邮箱地址之间通过逗号（,）分隔。|
    |**主题**|告警主题，长度为1~100个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|
    |**发送内容**|填写告警邮件通知的内容，长度为1~500个字符。支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|

3.  单击**提交**。

    此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## WebHook-钉钉机器人

设置告警通知方式为WebHook-钉钉机器人，则触发告警后，日志服务会通过钉钉机器人向指定的钉钉群发送告警通知，还支持提醒指定人员。

**说明：** 每个机器人每分钟最多发送20条告警通知。

1.  配置钉钉机器人。

    1.  打开钉钉客户端，进入钉钉群。

    2.  单击右上角群设置图标，并单击**智能群助手** \> **添加机器人**。

    3.  在群机器人对话框中，单击添加机器人区域中的**+**。

    4.  选择**自定义（通过WebHook接入自定义服务）**，并单击**添加**。

    5.  在添加机器人对话框中，输入**机器人名字**，配置**安全设置**，勾选**我已阅读并同意《自定义机器人服务及免责条款》**并单击**完成**。

        **说明：** 建议**安全设置**选择为**自定义关键字**，最多可以设置10个关键字，消息中至少包含其中1个关键字才可以发送成功，建议其中一个关键字设置为**告警**。更多关于安全设置请参见[钉钉开放平台](https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq)。

    6.  单击**复制**，复制WebHook链接。

2.  在日志服务控制台上配置通知方式。

    1.  在[设置告警](/cn.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**WebHook-钉钉机器人**，并单击**添加**。

    2.  配置如下参数。

        |参数|说明|
        |--|--|
        |**请求地址**|输入[步骤1](#step_4jc_x7d_u5y)中复制的WebHook链接。|
        |**标题**|告警主题，支持自定义，并且支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。长度为1~100个字符。|
        |**提醒接收者**|可选值为不提醒、所有人、指定成员。选择**指定成员**时，**被@人列表**中需填写指定人员的手机号码，多个手机号用逗号（,）分隔。|
        |**发送内容**|已默认配置发送内容，长度为1~500个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。 **说明：** 如果需要提醒指定人员，必须在**发送内容**中增加`@指定人员的手机号码`。 |

    3.  单击**提交**。

        此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## WebHook-自定义

设置告警通知方式为WebHook-自定义，当触发告警时，告警通知会以指定方式发送到自定义WebHook地址中。

**说明：** 此方式对应的超时时间为5秒，如果发出请求后5秒内没有返回，则表示发送失败。

1.  在[设置告警](/cn.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**WebHook-自定义**，并单击**添加**。

2.  配置如下参数。

    |参数|说明|
    |--|--|
    |**请求地址**|自定义的WebHook地址。|
    |**请求方法**|支持GET、POST、DELETE、PUT、OPTIONS等请求方法，默认请求头为Content-Type: application/json;charset=utf-8。 单击**添加请求头**，可追加请求头（Header）信息。 |
    |**发送内容**|已默认配置发送内容，长度为1~500个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/cn.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|

3.  单击**提交**。

    此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


