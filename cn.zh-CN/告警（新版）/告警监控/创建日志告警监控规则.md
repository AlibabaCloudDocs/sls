# 创建日志告警监控规则

创建日志告警监控规则后，日志服务根据您在规则中定义的检查频率、触发条件等配置产生告警，并根据您所选择的告警策略和行动策略进行告警通知。本文介绍创建日志告警监控规则的操作步骤。

## 操作步骤

1.  登录[日志服务控制台](https://sls.console.aliyun.com)。

2.  在Project列表区域，单击目标Project。

3.  在**日志存储** \> **日志库**页签中，单击目标Logstore。

4.  在页面右上角，单击**另存为告警**。

5.  在告警规则面板中，设置告警监控规则并单击**确定**。

    |参数|说明|
    |--|--|
    |**规则名称**|配置告警监控规则名称，长度为1~64个字符。|
    |**检查频率**|根据您配置的频率对查询和分析结果进行检查。    -   **每小时**：每小时检查一次查询和分析结果。
    -   **每天**：在每天的某个固定时间点检查一次查询和分析结果。
    -   **每周**：在周几的某个固定时间点检查一次查询和分析结果。
    -   **固定间隔**：按照固定间隔检查查询和分析结果。
    -   **Cron**：通过Cron表达式指定时间间隔，按照该指定的时间间隔检查查询和分析结果。

Cron表达式的最小精度为分钟，24小时制，例如`0 0/1 * * *`从00:00开始，每隔1小时检查一次。 |
    |**查询统计**|配置查询和分析条件。您可以单击SQL编辑框编辑查询和分析语句。配置多个查询统计时，您可以指定**集合操作**关联多个查询结果。 |
    |**分组评估**|日志服务支持对查询和分析结果进行分组。    -   选择**标签自定义**，则日志服务会根据您配置的字段对查询和分析结果进行分组。分组后，每个组单独评估触发条件。在每个检查周期内，满足触发条件时，各自产生一条告警。

您可配置多个字段，多个字段之间使用逗号（,）分隔。

    -   选择**不分组**，则在每个检查周期内，满足触发条件时，只产生一条告警。 |
    |**触发条件**|配置触发告警监控规则的条件。    -   **有数据**：当查询和分析结果中存在数据时，触发告警。
    -   **有特定条数据**：当查询和分析结果中存在N条数据时，触发告警。
    -   **有数据匹配**：当查询和分析结果中存在数据满足告警表达式时，触发告警。
    -   **有特定条数据匹配**：当查询和分析结果中存在N条数据满足告警表达式时，触发告警。
更多信息，请参见[告警条件表达式语法](/cn.zh-CN/可视化与告警/告警/参考信息/告警条件表达式语法.md)。 |
    |**告警严重度**|配置告警监控的级别。主要用于告警降噪控制和告警通知控制，即您在创建告警策略或行动策略时，可添加关于告警严重度的判断条件。    -   简单配置：直接选择告警严重度，则表示通过该规则产生的告警都属于同一个级别。
    -   分条件配置：单击**添加**，分条件设置告警严重度。条件表达式详情请参见[告警条件表达式语法](/cn.zh-CN/可视化与告警/告警/参考信息/告警条件表达式语法.md)。 |
    |**添加标签**|日志服务允许您给产生的告警添加标识性属性，键值对格式。主要用于告警降噪控制和告警通知控制，即您在创建告警策略或行动策略时，可添加关于标签的判断条件。|
    |**添加标注**|日志服务允许您给产生的告警添加非标识性属性，键值对格式。主要用于告警降噪控制和告警通知控制，即您在创建告警策略或行动策略时，可添加关于标注的判断条件。|
    |**连续触发阈值**|配置连续触发阈值。当累计的触发次数达到该值时，产生一条告警。不满足触发条件时不计入统计。|
    |**无数据告警**|打开**无数据告警**开关后，如果查询分析的结果（有多个时，进行集合操作后的结果）为无数据的次数超过**连续触发阈值**，则产生一条告警。|
    |**恢复通知**|打开**恢复通知**开关后，告警恢复时，触发一条恢复告警，严重度与告警触发时保持一致。|
    |**告警策略**|选择目标告警策略，用于合并、静默、抑制已产生的告警。更多信息，请参见[创建告警策略]()。|
    |**行动策略**|选择目标行动策略，控制告警通知渠道和频率等。更多信息，请参见[创建行动策略]()。|
    |**重复等待**|在重复等待时间内，重复的告警只触发一次行动策略，即只发送一次告警通知。|


