# 计量项和计费项

日志服务的所有计费项都是单独计费的，例如您存储日志会产生存储费用，您采集日志会产生写流量费用等。本文介绍日志服务费用的组成及计费方式。

**说明：**

-   日志服务详细价格请参见[产品定价](https://www.aliyun.com/price/product?spm=a2c4g.11186623.2.11.66cd2aab6wAn6p#/sls/detail)。
-   计费常见问题请参见[计量计费常见问题](/cn.zh-CN/产品定价/常见问题/计量计费常见问题.md)。

## 计费周期

日志服务以天为周期统计日志服务所有资源的使用量，并按照使用量结算费用。

## 计费方式

日志服务支持按量计费和包年包月两种计费方式：

-   按量计费

    根据实际使用量进行梯度计费，每个月有一定的免费额度。更多信息，请参见[按量付费](/cn.zh-CN/产品定价/按量付费.md)。

-   包年包月

    日志服务资源包升级。您只需要购买一种资源包，即可覆盖日志服务所有计费项，包括存储、索引流量、读写流量、请求、加工、投递、告警通知（短信、电话）等。更多信息，请参见[包年包月（新版资源包）](/cn.zh-CN/产品定价/包年包月（新版资源包）.md)。


## 费用组成

日志服务计费项如下表所示。

**说明：**

-   日志服务支持采集日志和时序数据，时序数据的存储空间、构建索引单独定价，与日志定价不同。加工费用、投递费用、读写流量费用、请求次数费用等与日志定价相同。
-   您可以在[日志服务控制台](https://sls.console.aliyun.com)查看前一天的写入流量、读取流量、读写次数、加工流量、投递流量、存储量等信息。
-   日志服务在采集日志时，会自动压缩日志数据量，压缩率为10%~20%。

![计费项](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6693052161/p238972.png)

|计费项|说明|计费公式|
|---|--|----|
|存储空间-日志存储|包括日志（压缩后）的存储量和被构建索引的日志（未压缩）的存储量。例如：原始日志量为1 GB，上传到日志服务并配置其中两个字段的索引。上传时的压缩率为20%，两个目标字段的索引数据量为0.5 GB，则日志存储空间为0.2 GB+0.5 GB=0.7 GB。

|存储空间-日志存储=日累计存储量\*每GB单价|
|存储空间-时序存储|包括时序数据（未压缩）的存储量和被构建索引的时序数据（未压缩）的存储量。例如：您原始时序数据量为1 GB，上传到日志服务后，日志服务自动为您构建索引，则日志存储空间为1 GB+1 GB=2 GB。

|存储空间-时序存储=日累计存储量\*每GB单价|
|读写流量|读写流量包括写流量和读流量，详细说明如下：-   写流量：按照数据（压缩后）被上传到日志服务所产生的网络流量计算写流量费用。

例如原始数据量为10 GB，则上传到日志服务会产生2 GB（压缩率20%）的写流量。

-   读流量：按照数据（压缩后）被加工、投递（AnalyticDB、TSDB）或消费所产生的网络流量计算读流量费用。

例如原始数据量为10 GB，您要通过日志服务投递到TSDB，则会产生2 GB（压缩率20%）的写流量和2 GB（压缩率20%）的读流量。


**说明：** 日志服务控制台上的消费预览功能会产生微量的读流量。

|读写流量=（日累计写流量+日累计读流量）\*每GB单价|
|索引流量-日志索引|按照日志（未压缩）被构建或重建索引后所产生的流量计算。索引是针对字段构建的，索引流量的大小与索引字段及字段值的长度有关。-   例如原始日志量为1 GB，写入到日志服务并开启全文索引，则索引流量为1 GB。
-   例如原始日志量为1 GB，写入到日志服务并开启其中两个字段的索引，这两个字段的数据量为0.5 GB，则索引流量为 0.5 GB。

**说明：**

-   索引默认为关闭状态，开启索引后会产生索引流量和占用存储空间。
-   对同时构建了全文索引和字段索引的字段，只计算一次索引流量费用。
-   日志服务自动为\_\_time\_\_、\_\_source\_\_等保留字段构建索引，会产生微量的索引流量。更多信息，请参见[保留字段](/cn.zh-CN/产品简介/限制说明/保留字段.md)。

|索引流量-日志索引=日累计索引流量\*每GB单价|
|索引流量-时序索引|按照时序数据（未压缩）被构建索引后所产生的流量计算。索引是针对字段构建的，索引流量的大小与索引字段及字段值的长度有关。您在上传时序数据时，日志服务自动为您构建索引。

例如原始时序数据量为1 GB，写入到日志服务后，索引流量为1 GB。

|索引流量-时序索引=日累计索引流量\*每GB单价|
|外网读取流量|-   日志服务中的数据被外网程序（非阿里云产品）消费时，会产生外网读取流量。按照压缩后的数据量计算。
-   跨地域加工数据时，会产生外网读取流量。按照压缩后的加工数据量计算。

|外网读取流量=日累计外网读取流量\*每GB单价|
|数据加工|按照数据加工的数据量（未压缩）计算。**数据加工**计费项仅包含加工的数据量费用。数据加工服务还会产生如下费用：

-   加工数据时，还需消耗网络资源及调用接口读取数据，即会产生读流量费用和读写次数费用。
-   数据加工时，如果是跨地域传输数据，还会产生外网读取流量。

|数据加工=日累计加工数据量\*每GB单价|
|数据投递|按照数据投递的数据量（未压缩）计算。投递对象为OSS、MaxCompute、AnalyticDB、TSDB。**说明：** 投递数据到AnalyticDB、TSDB时，还需调用接口读取数据及消耗网络资源，即会产生读写次数费用和读流量费用。

|数据投递=日累计投递数据量\*每GB单价|
|读写次数|-   上传数据到日志服务时，按照写入次数计算。写入次数由您的数据生成速度决定，日志服务后台会尽量减少写入次数。
-   加工、投递（AnalyticDB、TSDB）或消费数据时，会批量读取数据，按照读取次数计费。

**说明：** 无论成功或失败均会统计读写次数。

|读写次数=日累计读写次数\*每次单价|
|语音通知|告警语音通知费用，按通知次数收费。**说明：**

-   告警语音未拨通时，不会重复拨打，将以短信方式发送一次通知。
-   无论告警语音是否拨通均按一次计费。未拨通的提示短信，不会额外产生短信费用。

|语音通知=日累计通知次数\*每次单价|
|短信通知|告警短信通知费用，按通知次数收费。**说明：** 某些运营商可能将内容过长（例如超过70字符）的短信拆分成2条发送，所以当您编辑的短信内容过长时，您可能收到2条短信，但日志服务只按照1条短信收费。

|短信通知=日累计通知次数\*每次单价|
|活跃Shard租用|按照当前状态为读写的Shard的个数计算，已被合并或分裂的Shard不会产生费用。例如将当前3个读写的Shard进行合并，合并后只有1个Shard的状态为读写，则当天仍按照3个Shard计费，第二天按照1个Shard计费。

**说明：** 创建Logstore时，日志服务默认为您配置2个Shard。关于Shard的常见问题，请参见[为什么会产生活跃Shard租用费用](/cn.zh-CN/产品定价/常见问题/为什么会产生活跃Shard租用费用？.md)。

|活跃Shard租用=读写状态的Shard个数\*每个单价|

