# 通知方式

日志服务支持设置一种或多种告警通知方式，包括邮件、钉钉、WebHook-钉钉机器人、WebHook-自定义和通知中心。本文介绍各种通知方式的配置步骤。

## 通知中心（推荐）

设置告警通知方式为通知中心，则触发告警后，日志服务会通过通知中心向指定人员发送告警通知。

1.  在阿里云消息中心，配置消息接收人。

    1.  登录[阿里云消息中心](https://notifications.console.aliyun.com/?spm=5176.202052012811.aliyun_topbar.162.zRRPhO#/subscribeMsg)。

    2.  选择**消息接收管理** \> **基本接收管理**，单击**日志服务（LOG）告警**右侧的**修改**。

        ![国际站接收管理](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/5524008951/p7269.png)

    3.  在**修改消息接收人**窗口选择消息接收人，单击**保存**。

        如您需要新增一位消息接收人，可以直接单击**新增消息接收人**，并配置该人员用于接收告警信息的邮箱和职位信息。

        **说明：**

        -   系统将自动发送验证信息到所填手机号码和邮箱，通过验证后方可接收消息。
        -   最少需要设置1位消息接收人。
        -   通知方式默认为邮件，且不可更改。
        -   连续24小时（例如2020-07-19 18:00~2020-07-20 18:00）内，最多给每个邮箱发送100次告警通知。
2.  在日志服务控制台上配置通知方式。

    1.  在[设置告警](/intl.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**通知中心**，并单击**添加**。

    2.  配置发送内容。

        发送内容的长度为1~500个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/intl.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。

    3.  单击**提交**。

        此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## 邮件

设置告警通知方式为邮件，则触发告警后，日志服务会向指定的邮箱地址发送邮件通知。

1.  在[设置告警](/intl.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**邮件**，并单击**添加**。

2.  配置如下参数。

    |参数|说明|
    |--|--|
    |**收件人**|填写接收告警通知的邮箱地址，多个邮箱地址之间通过逗号（,）分隔。**说明：** 连续24小时（例如2020-07-19 18:00~2020-07-20 18:00）内，日志服务给一个邮箱发邮件的次数不超过100次。超过限制，则不再通知。 |
    |**主题**|告警主题，长度为1~100个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/intl.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|
    |**发送内容**|填写告警邮件通知的内容，长度为1~500个字符。支持使用模板变量，详情请参见[模板变量](/intl.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|


## WebHook-钉钉机器人

设置告警通知方式为WebHook-钉钉机器人，则触发告警后，日志服务会通过钉钉机器人向指定的钉钉群发送告警通知，还支持提醒指定人员。

**说明：** 每个机器人每分钟最多发送20条告警通知。

1.  配置钉钉机器人。

    1.  打开钉钉客户端，进入钉钉群。

    2.  单击右上角群设置图标，并单击**智能群助手** \> **添加机器人**。

    3.  在群机器人对话框中，单击添加机器人区域中的**+**。

    4.  选择**自定义（通过WebHook接入自定义服务）**，并单击**添加**。

    5.  在添加机器人对话框中，输入**机器人名字**，配置**安全设置**，勾选**我已阅读并同意《自定义机器人服务及免责条款》**并单击**完成**。

        **说明：** 建议**安全设置**选择为**自定义关键字**，最多可以设置10个关键字，消息中至少包含其中1个关键字才可以发送成功，建议其中一个关键字设置为**告警**。

    6.  单击**复制**，复制WebHook链接。

2.  在日志服务控制台上配置通知方式。

    1.  在[设置告警](/intl.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**WebHook-钉钉机器人**，并单击**添加**。

    2.  配置如下参数。

        |参数|说明|
        |--|--|
        |**请求地址**|输入[步骤1](#step_4jc_x7d_u5y)中复制的WebHook链接。|
        |**标题**|告警主题，支持自定义，并且支持使用模板变量，详情请参见[模板变量](/intl.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。长度为1~100个字符。|
        |**提醒接收者**|可选值为不提醒、所有人、指定成员。选择**指定成员**时，**被@人列表**中需填写指定人员的手机号码，多个手机号用逗号（,）分隔。|
        |**发送内容**|已默认配置发送内容，长度为1~500个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/intl.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。 **说明：** 如果需要提醒指定人员，必须在**发送内容**中增加`@指定人员的手机号码`。 |

    3.  单击**提交**。

        此处以配置一种通知方式为例，如果您要添加多种通知方式，可以执行多次添加操作后，再单击**提交**。


## WebHook-自定义

设置告警通知方式为WebHook-自定义，当触发告警时，告警通知会以指定方式发送到自定义WebHook地址中。

**说明：** 此方式对应的超时时间为5秒，如果发出请求后5秒内没有返回，则表示发送失败。

1.  在[设置告警](/intl.zh-CN/可视化与告警/告警/设置告警.md)时，在**通知列表**中选中**WebHook-自定义**，并单击**添加**。

2.  配置如下参数。

    |参数|说明|
    |--|--|
    |**请求地址**|自定义的WebHook地址。|
    |**请求方法**|支持GET、POST、DELETE、PUT、OPTIONS等请求方法，默认请求头为Content-Type: application/json;charset=utf-8。 单击**添加请求头**，可追加请求头（Header）信息。 |
    |**发送内容**|已默认配置发送内容，长度为1~500个字符。支持自定义，并且支持使用模板变量，详情请参见[模板变量](/intl.zh-CN/可视化与告警/告警/参考信息/模板变量.md)。|


