# 快速查询

当您需要频繁查看某一查询和分析语句的结果时，可以将该查询和分析语句另存为快速查询。快速查询是日志服务提供的用于保存查询和分析操作的功能。您可通过保存的历史操作，快速执行查询和分析操作。

已配置索引。具体操作，请参见[配置索引](/intl.zh-CN/查询与分析/配置索引.md)。

## 创建快速查询

1.  登录[日志服务控制台](https://sls.console.aliyun.com)。

2.  在Project列表区域，单击目标Project。

3.  在**日志存储** \> **日志库**页签中，单击目标Logstore。

4.  输入查询和分析语句，设置时间范围并单击**查询/分析**。

    查询和分析语句由查询语句和分析语句构成，格式为查询语句\|分析语句，查询分析语句语法请参见[查询语法](/intl.zh-CN/查询与分析/查询语法与功能/查询语法.md)、[SQL分析语法](/intl.zh-CN/查询与分析/SQL分析语法与功能/通用聚合函数.md)。

5.  单击页面右上角的**另存为快速查询**。

6.  在快速查询详情面板中，配置如下参数。

    ![生成变量](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2011382061/p10770.png)

    |参数|说明|
    |--|--|
    |**快速查询名称**|设置快速查询的名称。|
    |**变量配置**|如果您需要操作下钻分析，请选中**查询语句**中的内容，单击**生成变量**，可生成占位符变量。     -   **变量名**：占位符变量命名。
    -   **默认值**：您在**查询语句**中选中的内容。
    -   **匹配模式**：通过下钻操作替换默认值时的匹配模式，包括全局匹配和精确匹配。
        -   全局匹配：将查询和分析语句中跟您划选的关键字相同的关键词都替换为变量。
        -   精确匹配：将查询和分析语句中您所划选的关键字替换为变量。
如果其他图表的**事件行为**为**打开快速查询**并指定该快速查询，且图表配置的**变量**和快速查询的**变量名**相同。单击其他图表时会执行跳转，占位符变量的**默认值**替换为触发下钻事件的图表值，并以替换变量后的查询语句执行查询。更多信息，请参见[下钻分析](/intl.zh-CN/可视化与告警/仪表盘/下钻分析.md)。

**说明：** 设置下钻分析时，如果将**事件行为**设置为**打开快速查询**，则必须提前创建快速查询，并完成变量配置。 |

7.  单击**确定**。

    创建快速查询后，您在Logstore查询和分析页面，单击搜索框前面的![快速查询-002](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6047282061/p103650.png)图标，然后单击目标快速查询名称即可使用。


## 修改快速查询

1.  在左侧导航栏中，选择**资源** \> **快速查询**。

2.  在快速查询列表中，单击目标快速查询。

3.  输入新的查询和分析语句，单击**查询/分析**。

    查询和分析语句由查询语句和分析语句构成，格式为查询语句\|分析语句，查询分析语句语法请参见[查询语法](/intl.zh-CN/查询与分析/查询语法与功能/查询语法.md)、[SQL分析语法](/intl.zh-CN/查询与分析/SQL分析语法与功能/通用聚合函数.md)。

4.  单击页面右上角的**修改已有快速查询**。

5.  在快速查询详情面板中，修改快速查询相关信息，单击**确定**。


## 获取快速查询ID

创建快速查询后，您可以使用快速查询ID将快速查询页面嵌入到自建Web页面。具体操作，请参见[配置控制台内嵌参数](/intl.zh-CN/开发指南/可视化开发/配置控制台内嵌参数.md)。

1.  在左侧导航栏中，选择**资源** \> **快速查询**。

2.  在快速查询列表中，单击目标快速查询。

3.  在URL中获取快速查询ID。

    ![快速查询ID](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8307991261/p277471.png)


